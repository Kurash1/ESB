new effect create_expedition = {
	args = {
		id = string
		name = string
		desc = string
		frame = int
		length = int
		on_complete = effect
	}
	transpile = {
		add_permanent_province_modifier = {
			name = expedition_target
			duration = -1
		}
		set_variable = {
			which = expedition_progress
			value = 0
		}
		set_variable = {
			which = expedition_length
			value = args:length
		}
		set_variable = {
			which = expedition_percentage
			which = 0
		}
		
		customizable_localizations:GetExpeditionTitle += {
			{
				text = args:name
				trigger =* {
					has_province_flag = *args:id*
				}
			}
		}
		customizable_localizations:GetExpeditionDesc += {
			{
				text = args:desc
				trigger =* {
					has_province_flag = *args:id*
				}
			}
		}
		custom_icons:expedition_icon:frames += {
			{
				frame = args:frame
				trigger =* {
					has_province_flag = *args:id*
				}
			}
		}
		
		set_province_flag = args:id
		
		end_expedition_effect +=! {
			if [has_province_flag = args:id] {
				args:on_complete
				clr_province_flag = args:id
			}
		}
	}
}