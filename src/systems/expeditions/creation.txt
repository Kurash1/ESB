new effect create_expedition = {
	args = {
		id = string
		length = int
		on_complete = effect
	}
	transpile = {
		add_permanent_province_modifier = {
			name = expedition_target
			duration = -1
		}
		set_variable = {
			which = expedition_progress
			value = 0
		}
		set_variable = {
			which = expedition_length
			value = args:length
		}
		set_variable = {
			which = expedition_percentage
			which = 0
		}
		set_province_flag = args:id
		
		end_expedition_effect +=! {
			if [has_province_flag = args:id] {
				args:on_complete
				clr_province_flag = args:id
			}
		}
	}
}