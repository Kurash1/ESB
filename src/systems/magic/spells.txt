new class spell = {
	list = spells
	args = {
		name = string
		type = string #will be made an enum later
		cost = float
		on_cast = named_effect
	}
	on_create = {
		interface_files:countrytechnologyview:countrytechnologyview += {
			guiButtonType = {
				name = `custom_mechanic_spell_{this:id}`
				position = { x = 10 y = (100 + spells:count * 37) }
				quadTextureSprite = "GFX_button_type_246"
				scripted = yes
			}
		}
		new custom_button `custom_mechanic_spell_{this:id}` = {
			tooltip = "{this:name}
-------------
This spell costs §Y{this:cost}§! Magicka to cast. This cost is further modified by:
	Spell cost modifier: §Y[spell_cost_modifier_percent.GetValue]%§!"
			potential = {
				has_country_flag = show_magic_menu
			}
			trigger =* {
				variable_arithmetic_trigger = {
					custom_tooltip = "Have enough magicka to cast this spell."
					&this_spell_cost &= modifier:spell_cost_modifier
					&this_spell_cost *= *this:cost*
					
					&magicka >= this_spell_cost
				}
			}
			effect =* {
				hidden_effect = {
					add_magicka = -*this:cost*
				}
				*this:on_cast*
			}
		}
	}
}
new spell cast_shields = {
	name = "Cast Shields"
	type = country
	cost = 50
	on_cast = {
		quick_country_modifier = {
			name = "Shield Spells"
			years = 10
			modifier = {
				fire_damage_received = -0.1
				shock_damage_received = -0.1
			}
		}
	}
}