esb_change_opinion = {
	every_country = {
		limit = {
			NOT = { 
				OR = {
					tag = REB
					tag = PREV 
				}
			}
		}
		if = {
			limit = {
				culture_group = PREV
			}
			add_opinion = { who = PREV modifier = esb_same_race }
			reverse_add_opinion = { who = PREV modifier = esb_same_race }
		}
		if = {
			limit = {
				NOT = { culture_group = PREV }
			}
			add_opinion = { who = PREV modifier = esb_different_race }
			reverse_add_opinion = { who = PREV modifier = esb_different_race }
		}
		if = {
			limit = {
				OR = {
					AND = {
						is_human_nation_trigger = yes
						PREV = { is_elven_nation_trigger = yes }
					}
					AND = {
						is_elven_nation_trigger = yes
						PREV = { is_human_nation_trigger = yes }
					}
				}
			}
			add_opinion = { who = PREV modifier = esb_elf_men_hate }
			reverse_add_opinion = { who = PREV modifier = esb_elf_men_hate }
		}
		if = {
			limit = {
				OR = {
					AND = {
						culture_group = northern_cg
						PREV = { culture_group = snow_elves_cg }
					}
					AND = {
						culture_group = snow_elves_cg
						PREV = { culture_group = northern_cg }
					}
				}
			}
			add_opinion = { who = PREV modifier = esb_night_of_tears }
			reverse_add_opinion = { who = PREV modifier = esb_night_of_tears }
		}
	}
}

esb_clear_opinion = {
	every_country = {
		if = { 
			limit = {
				has_opinion_modifier = {
					who = PREV
					modifier = esb_same_race
				}
			}
			remove_opinion = { who = PREV modifier = esb_same_race }
			reverse_remove_opinion = { who = PREV modifier = esb_same_race }
		}
		if = { 
			limit = {
				has_opinion_modifier = {
					who = PREV
					modifier = esb_different_race
				}
			}
			remove_opinion = { who = PREV modifier = esb_different_race }
			reverse_remove_opinion = { who = PREV modifier = esb_different_race }
		}
		if = { 
			limit = {
				has_opinion_modifier = {
					who = PREV
					modifier = esb_elf_men_hate
				}
			}
			remove_opinion = { who = PREV modifier = esb_elf_men_hate }
			reverse_remove_opinion = { who = PREV modifier = esb_elf_men_hate }
		}
		if = { 
			limit = {
				has_opinion_modifier = {
					who = PREV
					modifier = esb_night_of_tears
				}
			}
			remove_opinion = { who = PREV modifier = esb_night_of_tears }
			reverse_remove_opinion = { who = PREV modifier = esb_night_of_tears }
		}
		
	}
}