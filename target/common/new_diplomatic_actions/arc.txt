siege_magic = { category = relation require_acceptance = no is_visible = { has_government_attribute = has_siege_magic } is_allowed = { has_government_power = { mechanic_type = magicka_mechanic power_type = magicka value = 10 } war_with = FROM FROM = { any_owned_province = { sieged_by = ROOT fort_level = 1 } } } on_accept = { FROM = { random_owned_province = { limit = { sieged_by = ROOT fort_level = 1 } change_siege = 10 } } ROOT = { add_government_power = { mechanic_type = magicka_mechanic power_type = magicka value = -10 } } } ai_will_do = { always = yes } } espionage_magic = { category = covert require_acceptance = no is_visible = { has_government_attribute = has_espionage_magic } is_allowed = { has_government_power = { mechanic_type = magicka_mechanic power_type = magicka value = 15 } } on_accept = { export_to_variable = { variable_name = espionage_magic_var value = modifier:spy_offence } change_variable = { which = espionage_magic_var value = 1 } multiply_variable = { which = espionage_magic_var value = 15 } log = "[Root.espionage_magic_var.GetValue]" while = { limit = { check_variable = { which = espionage_magic_var value = 1 } } subtract_variable = { which = espionage_magic_var value = 1 } add_spy_network_in = { who = FROM value = 1 } } add_government_power = { mechanic_type = magicka_mechanic power_type = magicka value = -15 } } ai_will_do = { always = yes } }